# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: nicsanch <nico_sp_92@hotmail.com>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2023/09/01 20:58:10 by nicsanch          #+#    #+#              #
#    Updated: 2023/10/02 12:51:38 by nicsanch         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

TARGET = $(BIN_DIR)/push_swap

ARGS = 522 -360 280 666 966 -177 -751 -179 -656 632 -394 586 -379 -19 96 -743 684 -430 -723 -597 599 -159 799 -274 -614 608 694 874 -307 -198 -99 -149 -811 432 20 596 490 801 307 -671 597 -649 911 735 914 -759 -281 -187 -15 639 520 -82 910 208 418 -63 363 -484 794 558 -490 373 168 -541 -630 238 -156 407 698 406 -672 -927 16 331 -180 192 -883 -660 -529 181 -938 -8 -172 -95 -799 -458 863 -650 63 195 642 -748 -10 361 -953 -89 -344 2 508 391 257 -635 200 -772 889 923 821 -598 885 676 104 9 543 -735 -925 -363 755 -438 -151 645 -185 537 939 -605 217 -571 -463 -768 570 717 -217 8 -324 -435 227 18 -266 80 -995 908 650 -580 -684 850 358 88 -205 -233 -786 -506 993 -816 -496 22 -236 545 -606 -936 61 -464 312 54 -224 -277 981 283 609 -150 -59 820 -746 23 -404 -471 994 -913 -29 460 -11 -910 451 830 -985 388 -308 -661 -282 -519 846 -632 901 -788 439 930 787 140 -782 668 366 430 -846 -92 -740 -125 376 -290 803 870 437 175 -347 -44 -46 986 -777 -91 742 143 892 222 -54 -875 -747 -785 534 -287 -990 879 326 -273 -720 -147 -898 -494 396 -981 -922 -258 381 -417 -98 840 -514 495 594 -346 450 399 230 320 -726 852 -600 -376 102 730 962 286 758 925 -466 449 66 -505 654 397 -804 -817 -657 330 345 626 488 696 -178 -573 620 385 -752 -658 -725 -492 -808 793 946 967 107 -977 -651 187 -260 551 -231 -207 402 747 462 851 -767 -68 95 -455 454 -939 587 641 810 224 572 -357 -942 743 701 682 -594 -269 -678 933 600 446 343 176 -508 -333 49 74 313 854 -32 53 -90 355 825 336 762 -559 -206 -946 765 317 899 -784 582 853 -745 400 -945 -712 -6 -406 -241 -263 -130 1 103 -317 -79 -590 722 -790 152 678 -988 988 -311 -31 261 -779 629 434 82 478 389 305 725 -204 -841 -393 873 621 955 -561 -670 808 -562 -821 897 459 350 89 14 12 -47 861 -85 -20 950 -323 -264 -433 0 -858 442 73 501 -668 -892 27 515 -76 -928 516 -731 -332 377 -823 -714 -854 279 -742 -700 340 -305 -959 -219 -436 -138 503 403 -162 -730 -276 71 204 -568 -222 431 -964 -148 783 -824 -174 468 -527 -413 445 938 -806 -229 900 -373 421 -761 153 550 -215 623 -139 -894 -618 349 -739 617 -485 -666 898 -764 443 337 -504 -69 315 -558 831 -97 -345 -182 610 333 -897 -770 984 -403 -856 472 -127 -58 78 -596 -26 466 844 531 424 -227 -681 265 948 -530 756

FILES = test.c				\
		stack_init.c		\
		stack_ranks.c		\
		stack_utils.c		\
		swap.c				\
		rotations.c			\
		push.c				\
		costs.c				\
		movements.c			\
		targets.c			\
		flags.c				\
		special_cases.c		\
		five.c				\
		five_flags.c		\
		others.c			\
		simple_algorithm.c	\
		main.c				\

BIN_DIR = ./bin
LIBFT_DIR = ./libft
LIBFT_INC = $(LIBFT_DIR)/inc
LIBFT = $(LIBFT_DIR)/bin/libft.a

OBJS = $(addprefix $(OBJ_DIR)/,$(FILES:%.c=%.o))

INC_DIR = ./inc
OBJ_DIR = ./obj
SRC_DIR = ./src
INCLUDES = -I$(INC_DIR) -I$(LIBFT_INC)
CFLAGS =  -Wall -Wextra -Werror 


$(TARGET): $(OBJS) $(LIBFT) 
	mkdir -p $(BIN_DIR) 
	gcc $(CFLAGS) $(INCLUDES) $^ -o $@

$(OBJ_DIR)/%.o: $(SRC_DIR)/%.c
	mkdir -p $(OBJ_DIR)
	gcc $(CFLAGS) $(INCLUDES) -c $< -o $@

$(LIBFT):
	$(MAKE) -C $(LIBFT_DIR)

.PHONY: all clean fclean re run checker lines

all: $(LIBFT) $(TARGET)

clean:
	@if [ -d $(OBJ_DIR) ]; then \
		rm -r $(OBJ_DIR); \
	fi
	$(MAKE) -C $(LIBFT_DIR) clean

fclean: clean
	@if [ -d $(BIN_DIR) ]; then \
		rm -r $(BIN_DIR); \
	fi
	$(MAKE) -C $(LIBFT_DIR) fclean

re: fclean all

run:
	./bin/push_swap $(ARGS)

checker:
	./bin/push_swap $(ARGS) | ./checker_Mac $(ARGS)

lines:
	./bin/push_swap $(ARGS) | wc -l
